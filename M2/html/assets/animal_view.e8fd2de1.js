import{e as t,g as e,t as n,w as a,v as o,F as l,f as i,h as s,o as u}from"./vendor.ba458dd1.js";const d={data(){return{foodType:"foodType",animalName:this.$route.query.animal,petArr:[]}},methods:{upAnimal(){!function(t,e){const n=new XMLHttpRequest;n.onreadystatechange=function(){4===this.readyState&&200===this.status&&p(e)},n.open("PUT","http://localhost:4030/api/animals/"+t,!0);const a={name:e.animalName,food_type:e.foodType};n.setRequestHeader("Content-Type","application/json"),n.send(JSON.stringify(a))}(this.animalName,this),alert("update sucessfully")},delPet(t){!function(t,e){const n=new XMLHttpRequest;n.onreadystatechange=function(){4===this.readyState&&202===this.status&&r(e)},n.open("DELETE","http://localhost:4030/api/animals/"+e.animalName+"/pets/"+t,!0),n.send()}(t,this)},goView(t,e){this.$router.push({path:"/pet",query:{pet:t,animal:e}})},goAdd(t){this.$router.push({path:"/pet/add",query:{animal:t}})},goList(){this.$router.push({path:"/animals"})}},mounted:function(){p(this),r(this)}};function p(t){const e=new XMLHttpRequest;e.onreadystatechange=function(){4===this.readyState&&200===this.status&&(t.foodType=JSON.parse(this.responseText).food_type,console.log(JSON.parse(this.responseText)))},e.open("GET","http://localhost:4030/api/animals/"+t.$route.query.animal,!0),e.send()}function r(t){const e=new XMLHttpRequest;e.onreadystatechange=function(){4===this.readyState&&200===this.status&&function(t,e){e.petArr=[],t.pets.forEach((t=>{console.log(t),e.petArr.push(t)}))}(JSON.parse(this.responseText),t)},e.open("GET","http://localhost:4030/api/animals/"+t.animalName+"/pets",!0),e.send()}const h=e("h2",null,"Details",-1),m=s(" FoodType: "),c=e("br",null,null,-1),f=e("label",{for:"fd1"},"carnivore",-1),y=e("br",null,null,-1),T=e("label",{for:"fd2"},"herbivore",-1),b=e("br",null,null,-1),g=e("label",{for:"fd3"},"omnivore",-1),N=e("br",null,null,-1),v=e("h2",null,"Pet List",-1),q=e("tr",null,[e("th",null,"id"),e("th",null,"name"),e("th",null,"View/Edit"),e("th",null,"Delete")],-1),w=["onClick"],A=["onClick"];d.render=function(s,d,p,r,k,C){return u(),t(l,null,[e("button",{onClick:d[0]||(d[0]=t=>C.goList())},"back"),e("h1",null,n(k.animalName),1),h,e("p",null,"Name: "+n(k.animalName),1),m,c,f,a(e("input",{id:"fd1",name:"fd",type:"radio",value:"carnivore","onUpdate:modelValue":d[1]||(d[1]=t=>k.foodType=t)},null,512),[[o,k.foodType]]),y,T,a(e("input",{id:"fd2",name:"fd",type:"radio",value:"herbivore","onUpdate:modelValue":d[2]||(d[2]=t=>k.foodType=t)},null,512),[[o,k.foodType]]),b,g,a(e("input",{id:"fd3",name:"fd",type:"radio",value:"omnivore","onUpdate:modelValue":d[3]||(d[3]=t=>k.foodType=t)},null,512),[[o,k.foodType]]),N,e("button",{onClick:d[4]||(d[4]=(...t)=>C.upAnimal&&C.upAnimal(...t))},"update"),v,q,(u(!0),t(l,null,i(k.petArr,(a=>(u(),t("tr",null,[e("td",null,n(a.id),1),e("td",null,n(a.name),1),e("td",null,[e("button",{onClick:t=>C.goView(a.id,k.animalName)},"View/Edit",8,w)]),e("td",null,[e("button",{onClick:t=>C.delPet(a.id)},"delete",8,A)])])))),256)),e("button",{onClick:d[5]||(d[5]=t=>C.goAdd(k.animalName))},"add")],64)};export{d as default};
